# ============================================
# The Human Archive - Configuration
# ============================================

# Application
APP_NAME=The Human Archive
APP_ENV=development
DEBUG=true
SECRET_KEY=change-me-in-production-use-openssl-rand-hex-32
API_PREFIX=/api/v1

# PostgreSQL (Docker Compose – champs individuels)
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_DB=human_archive
POSTGRES_USER=archive_user
POSTGRES_PASSWORD=change-me-strong-password

# PostgreSQL (Railway – URL directe, remplace les champs ci-dessus)
# DATABASE_URL_OVERRIDE=postgresql://user:pass@host:port/db

# Stockage : "s3" (MinIO/Supabase/R2) ou "local" (filesystem)
STORAGE_BACKEND=s3
# STORAGE_LOCAL_DIR=/app/uploads

# MinIO / S3 (utilisé si STORAGE_BACKEND=s3)
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123
MINIO_ENDPOINT=minio:9000
MINIO_BUCKET=archives
MINIO_USE_SSL=false

# JWT Auth
JWT_SECRET_KEY=change-me-jwt-secret-use-openssl-rand-hex-32
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Upload limits
MAX_UPLOAD_SIZE_MB=2048
ALLOWED_VIDEO_EXTENSIONS=mp4,mov,avi,mkv,webm
ALLOWED_AUDIO_EXTENSIONS=mp3,wav,flac,ogg,aac
ALLOWED_IMAGE_EXTENSIONS=jpg,jpeg,png,webp,tiff

# Low-bandwidth optimization
CHUNK_SIZE_KB=256
ENABLE_COMPRESSION=true
THUMBNAIL_QUALITY=60
